<UserControl
    x:Class="ONet.FAU.Rx._16_128.Extension.Views.MaynuoM8811View"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ONet.FAU.Rx._16_128.Extension.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:VM="clr-namespace:ONet.FAU.Rx._16_128.Extension.ViewModels"
    d:DataContext="{d:DesignInstance Type=VM:MaynuoM8811ViewModel}"
    d:DesignHeight="300"
    d:DesignWidth="450"
    mc:Ignorable="d">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>

                <ResourceDictionary Source="pack://application:,,,/DM.Foundation.Styles;component/Themes/Themes.xaml" />

            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto">
        <Grid Margin="5">
            <Border
                Background="White"
                BorderBrush="Black"
                BorderThickness="1"
                CornerRadius="5">
                <StackPanel Margin="10">

                    <Grid Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Border
                            Padding="8,3"
                            Background="#2C3E50"
                            CornerRadius="2">
                            <TextBlock
                                FontWeight="Bold"
                                Foreground="White"
                                Text="源表 (SMU)" />
                        </Border>
                        <!--<StackPanel Grid.Column="2" Orientation="Horizontal">
                            <TextBlock VerticalAlignment="Center" Text="当前模式: " />
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="Bold"
                                Foreground="#2980B9"
                                Text="{Binding CurrentModeText, FallbackValue='恒压 (CV)'}" />
                        </StackPanel>-->
                    </Grid>

                    <UniformGrid Margin="0,5" Columns="1">
                        <Border
                            Padding="0,5"
                            BorderBrush="#EEE"
                            BorderThickness="0,0,0,1">
                            <Grid>
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    FontSize="12"
                                    Foreground="Gray"
                                    Text="VOLTAGE" />
                                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                    <TextBlock
                                        FontSize="56"
                                        FontWeight="SemiBold"
                                       
                                        Text="{Binding MeasuredVoltage, StringFormat=F4, FallbackValue='0.0000'}">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Foreground" Value="{StaticResource Color.Neutral.Gray}"/>

                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsOutputOn}" Value="True">
                                                        <Setter Property="Foreground" Value="{StaticResource Color.Accent.Green.Dark}"/>
                                                       
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <TextBlock
                                        Margin="5,0,0,10"
                                        VerticalAlignment="Bottom"
                                        FontSize="20"
                                        Text="V" />
                                </StackPanel>
                            </Grid>
                        </Border>

                        <Border Padding="0,5">
                            <Grid>
                                <TextBlock
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    FontSize="12"
                                    Foreground="Gray"
                                    Text="CURRENT" />
                                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                    <TextBlock
                                        FontSize="56"
                                        FontWeight="SemiBold"
                                       
                                        Text="{Binding MeasuredCurrent, StringFormat=F4, FallbackValue='0.0000'}">
                                        <TextBlock.Style>
                                            <Style TargetType="TextBlock">
                                                <Setter Property="Foreground" Value="{StaticResource Color.Neutral.Gray}"/>

                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsOutputOn}" Value="True">
                                                        <Setter Property="Foreground" Value="{StaticResource Color.Accent.Green.Dark}"/>

                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <TextBlock
                                        Margin="5,0,0,10"
                                        VerticalAlignment="Bottom"
                                        FontSize="20"
                                        Text="A" />
                                </StackPanel>
                            </Grid>
                        </Border>
                    </UniformGrid>

                    <Separator Margin="0,10" />

                    <!--<Grid Margin="0,5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Margin="5,0">
                            <TextBlock FontSize="12" Text="设定电压 (V):" />
                            <TextBox
                                HorizontalContentAlignment="Center"
                                BorderThickness="0,0,0,1"
                                FontSize="18"
                                FontWeight="Bold"
                                Text="{Binding SetVoltage, UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>

                        <StackPanel Grid.Column="1" Margin="5,0">
                            <TextBlock FontSize="12" Text="电流限制 (A):" />
                            <TextBox
                                HorizontalContentAlignment="Center"
                                BorderThickness="0,0,0,1"
                                FontSize="18"
                                FontWeight="Bold"
                                Text="{Binding SetCurrentLimit, UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>
                    </Grid>-->

                    <!--<Separator Margin="0,15" />-->

                    <WrapPanel HorizontalAlignment="Center">
                        <!--<Button
                            Width="90"
                            Height="35"
                            Margin="5"
                            Command="{Binding SwitchToCVCmd}"
                            Content="恒压模式"
                            Style="{StaticResource WinFormsButtonStyle}" />

                        <Button
                            Width="90"
                            Height="35"
                            Margin="5"
                            Command="{Binding SwitchToCCCmd}"
                            Content="恒流模式"
                            Style="{StaticResource WinFormsButtonStyle}" />-->

                        <Button
                            Width="90"
                            Height="35"
                            Margin="5"
                            Background="DarkGreen"
                            Command="{Binding OutputOnCmd}"
                            Content="开启输出"
                            Foreground="White"
                            IsEnabled="{Binding IsOutputOff}"
                            Style="{StaticResource WinFormsButtonStyle}" />

                        <Button
                            Width="90"
                            Height="35"
                            Margin="5"
                            Background="DarkRed"
                            Command="{Binding OutputOffCmd}"
                            Content="切断输出"
                            Foreground="White"
                            IsEnabled="{Binding IsOutputOn}"
                            Style="{StaticResource WinFormsButtonStyle}" />
                    </WrapPanel>

                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>
